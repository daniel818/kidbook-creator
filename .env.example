# ============================================
# KidBook Creator - Environment Variables
# ============================================
# Copy this file to .env.local and fill in your values
# Variables marked [REQUIRED] must be set or the app will not start.
# Variables marked [OPTIONAL] have defaults and can be omitted.
# ============================================

# --- Supabase Configuration [REQUIRED] ---
# Get these from: Supabase Dashboard > Settings > API > "Publishable and secret API keys" tab
# Project URL: Found in Settings > API or your dashboard URL
NEXT_PUBLIC_SUPABASE_URL=https://your-project-id.supabase.co

# Publishable key (safe for browser) - from "Publishable and secret API keys" tab
NEXT_PUBLIC_SUPABASE_ANON_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...

# Secret key (server-only, click "Reveal") - NEVER expose this publicly!
SUPABASE_SERVICE_ROLE_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...

# --- Stripe Configuration [REQUIRED] ---
# Get these from: https://dashboard.stripe.com/apikeys
NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY=pk_test_xxx
STRIPE_SECRET_KEY=sk_test_xxx
STRIPE_WEBHOOK_SECRET=whsec_xxx

# --- Lulu API Configuration [REQUIRED] ---
# Get these from: https://developers.lulu.com
LULU_API_KEY=your-lulu-api-key
LULU_API_SECRET=your-lulu-api-secret
# [OPTIONAL] Set to 'false' for production (default: 'true')
LULU_SANDBOX=true
# [OPTIONAL] Webhook secret for verifying Lulu webhook signatures
# LULU_WEBHOOK_SECRET=your-lulu-webhook-secret

# --- Resend Email Configuration [REQUIRED] ---
# Get these from: https://resend.com/api-keys
RESEND_API_KEY=re_xxx
# [OPTIONAL] Sender email (default: 'KidBook Creator <orders@kidbookcreator.com>')
EMAIL_FROM=KidBook Creator <orders@kidbookcreator.com>

# --- Google Gemini AI Configuration [REQUIRED] ---
# Get from: https://aistudio.google.com/apikey
GEMINI_API_KEY=AIzaSyCIMISSd1rfrMJy1ArWFe0XTjmlP...

# --- App Configuration [REQUIRED] ---
NEXT_PUBLIC_APP_URL=http://localhost:3000
# [OPTIONAL] Price markup multiplier (default: 1.0)
NEXT_PUBLIC_BOOK_PRICE_MARKUP=1.0

# --- Internal API [OPTIONAL] ---
# Used for background illustration generation
# Generate a random string, e.g.: openssl rand -hex 32
INTERNAL_API_KEY=your-internal-api-key
# Server-only base URL for internal API calls (defaults to NEXT_PUBLIC_APP_URL)
# Set this in production to avoid sending INTERNAL_API_KEY to a public-facing URL
# INTERNAL_API_BASE_URL=http://localhost:3000

# --- Storage [OPTIONAL] ---
# Tunnel URL for exposing local Supabase storage to Lulu during development
# STORAGE_TUNNEL_URL=https://your-tunnel.loca.lt
# TUNNEL_URL=https://your-tunnel.loca.lt
# Supabase storage origin (default: 'http://127.0.0.1:54321')
# SUPABASE_STORAGE_ORIGIN=http://127.0.0.1:54321

# --- Cloudflare R2 Storage [OPTIONAL] ---
# Create an R2 bucket and API token with Object Read & Write permissions
R2_ENDPOINT=https://<accountid>.r2.cloudflarestorage.com
R2_ACCESS_KEY_ID=your-r2-access-key-id
R2_SECRET_ACCESS_KEY=your-r2-secret-access-key
R2_BUCKET=kidbook-assets
# Public base URL for files (custom domain recommended)
R2_PUBLIC_BASE_URL=https://cdn.yourdomain.com

# --- AI Model Configuration [OPTIONAL] ---
# Defaults shown. Override only if using different model versions.
GEMINI_TEXT_MODEL=gemini-3-flash-preview
GEMINI_REF_IMAGE_MODEL=gemini-3-pro-image-preview
GEMINI_IMAGE_MODEL=gemini-3-pro-image-preview
